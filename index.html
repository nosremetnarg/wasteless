<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Wasteless Simulation</title>
  </head>
  <body>
    <!-- wasteless simulations -->
    <div id="simulation-wrapper" class="simulation-wrapper">
      <div class="header-section">
        <p>Whats your Total Annual Revenue(gross)?</p>
        <p class="submitWarning">Please enter only numbers</p>
        <!-- change to a number input -->
        <span>$</span>
        <label for="totalRevenue"></label>
        <input
          type="number"
          id="totalRevenue"
          name="totalRevenue"
          min="1"
          max="5000000000"
          
        />
        <!-- <input type="submit" id="submit" /> -->

        <p>
          Out of the total revenue, how much each of the following represent and
          what's their waste %?
        </p>
      </div>

      <div class="main-calculator-section">
        <div class="packedMeals grid">
          <!-- <img class="icon" src="/Assets/bread.png" alt="" /> -->
          <img class="icon" src="/wasteless/Assets/bread.png" alt="" />
          <p>Packed meals / Deli</p>
          <p class="slider sliderRev subinformation">% of total revenue</p>
          <input
            type="range"
            min="0"
            max="30"
            value="8"
            step="1"
            class="slider sliderRev packedMeals"
            id="packedMeals"
            name="packedMeals"
            oninput="packedMealsOutput.value=parseInt(packedMeals.value)"
            onchange="listen(this.value)"
          />
          <output
            id="packedMealsOutput"
            name="packedMealsOutput"
            for="packedMealsOutput.value"
            class="packedMealsOutput"
            >8</output
          ><span>%</span>

          <p class="slider subinformation">Waste %</p>
          <form action="">
            <input
              type="range"
              min="0"
              max="100"
              value="10"
              step="1"
              class="slider packedMeals"
              id="packedMealsWaste"
              name="packedMealsWaste"
              oninput="packedMealsOutputWaste.value=(parseInt(packedMealsWaste.value))"
              onchange="wasteListen(this.value)"
              
            />
            <output
              id="packedMealsOutputWaste"
              name="packedMealsOutputWaste"
              for="packedMealsOutputWaste.value"
              class="packedMeals"
              >10</output
            ><span>%</span>
          </form>
        </div>

        <div class="bakery grid">
          <!-- <img class="icon milk" src="/Assets/milk.png" alt="" /> -->
          <img class="icon milk" src="/wasteless/Assets/milk.png" alt="" />
          <p>Bakery</p>

          <p class="slider sliderRev subinformation">% of total revenue</p>
          <input
            type="range"
            min="0"
            max="30"
            value="6"
            step="1"
            class="slider sliderRev bakery"
            id="bakery"
            name="bakery"
            oninput="bakeryOutput.value=bakery.value"
            onchange="listen(this.value)"
          />
          <output
            id="bakeryOutput"
            name="bakeryOutput"
            for="bakeryOutput.value"
            class="bakeryOutput"
            >6</output
          ><span>%</span>

          <p class="slider subinformation">Waste %</p>
          <form action="">
            <input
              type="range"
              min="0"
              max="100"
              value="15"
              step="1"
              class="slider bakeryWaste"
              id="bakeryWaste"
              name="bakeryWaste"
              oninput="bakeryWasteOutput.value=(parseInt(bakeryWaste.value))"
              onchange="wasteListen(this.value)"
            />
            <output
              id="bakeryWasteOutput"
              name="bakeryWasteOutput"
              for="bakeryWasteOutput.value"
              class="bakeryWasteOutput"
              >15</output
            ><span>%</span>
          </form>
        </div>

        <div class="frozenFoods grid">
          <!-- <img class="icon milk" src="/Assets/frozenFood.png" alt="" /> -->
          <img
            class="icon milk"
            src="/wasteless/Assets/frozenFood.png"
            alt=""
          />
          <p>Frozen Foods</p>
          <p class="slider sliderRev subinformation">% of total revenue</p>
          <input
            type="range"
            min="0"
            max="30"
            value="5"
            step="1"
            class="slider sliderRev frozenFood"
            id="frozenFood"
            name="frozenFood"
            oninput="frozenFoodOutput.value=frozenFood.value"
            onchange="listen(this.value)"
          />

          <output
            id="frozenFoodOutput"
            name="frozenFoodOutput"
            for="frozenFoodOutput.value"
            class="frozenFoodOutput"
            >5</output
          ><span>%</span>

          <p class="slider subinformation">Waste %</p>
          <form action="">
            <input
              type="range"
              min="0"
              max="100"
              value="1"
              step="1"
              class="slider frozenFoodWaste"
              id="frozenFoodWaste"
              name="frozenFoodWaste"
              oninput="frozenFoodOutputWaste.value=frozenFoodWaste.value"
              onchange="wasteListen(this.value)"
            />
            <output
              id="frozenFoodOutputWaste"
              name="frozenFoodOutputWaste"
              for="frozenFoodOutputWaste.value"
              class="frozenFoodOutputWaste"
              >1</output
            ><span>%</span>
          </form>
        </div>

        <div class="seafood grid">
          <!-- <img class="icon milk" src="/Assets/fish.png" alt="" /> -->
          <img class="icon milk" src="/wasteless/Assets/fish.png" alt="" />

          <p>Seafood</p>
          <!-- seafoodOutput seafoodWasteOutput -->
          <p class="slider sliderRev subinformation">% of total revenue</p>
          <input
            type="range"
            min="0"
            max="30"
            value="1"
            step="1"
            class="slider sliderRev seafood"
            id="seafood"
            name="seafood"
            oninput="seafoodOutput.value=seafood.value"
            onchange="listen(this.value)"
          />
          <output
            id="seafoodOutput"
            name="seafoodOutput"
            for="seafoodOutput.value"
            class="seafoodOutput"
            >1</output
          ><span>%</span>

          <p class="slider subinformation">Waste %</p>
          <form action="">
            <input
              type="range"
              min="0"
              max="100"
              value="12"
              step="1"
              class="slider seafoodWaste"
              id="seafoodWaste"
              name="seafoodWaste"
              oninput="seafoodWasteOutput.value=seafoodWaste.value"
              onchange="wasteListen(this.value)"
            />
            <output
              id="seafoodWasteOutput"
              name="seafoodWasteOutput"
              for="seafoodWasteOutput"
              class="seafoodWasteOutput"
              >12</output
            ><span>%</span>
          </form>
        </div>

        <div class="fruitsAndVegetables grid">
          <!-- <img class="icon milk" src="/Assets/fruitAndVegetables.png" alt="" /> -->
          <img
            class="icon milk"
            src="/wasteless/Assets/fruitAndVegetables.png"
            alt=""
          />
          <p>Fruits & Vegetables</p>

          <p class="slider sliderRev subinformation">% of total revenue</p>
          <input
            type="range"
            min="0"
            max="30"
            value="14"
            step="1"
            class="slider sliderRev fruitAndVegetables"
            id="fruitAndVegetables"
            name="fruitAndVegetables"
            oninput="fruitAndVegetablesOutput.value=fruitAndVegetables.value"
            onchange="listen(this.value)"
          />
          <output
            id="fruitAndVegetablesOutput"
            name="fruitAndVegetablesOutput"
            for="fruitAndVegetablesOutput.value"
            class="fruitAndVegetablesOutput"
            >14</output
          ><span>%</span>

          <p class="slider subinformation">Waste %</p>
          <form action="">
            <input
              type="range"
              min="0"
              max="100"
              value="14"
              step="1"
              class="slider fruitAndVegetablesWaste"
              id="fruitAndVegetablesWaste"
              name="fruitAndVegetablesWaste"
              oninput="fruitAndVegetablesWasteOutput.value=fruitAndVegetablesWaste.value"
              onchange="wasteListen(this.value)"
            />
            <output
              id="fruitAndVegetablesWasteOutput"
              name="fruitAndVegetablesWasteOutput"
              for="fruitAndVegetablesWasteOutput.value"
              class="fruitAndVegetablesWasteOutput"
              >14</output
            ><span>%</span>
          </form>
        </div>

        <div class="dairy grid">
          <!-- <img class="icon milk" src="/Assets/milk.png" alt="" /> -->
          <img class="icon milk" src="/wasteless/Assets/milk.png" alt="" />

          <p>Dairy</p>

          <p class="slider sliderRev subinformation">% of total revenue</p>
          <input
            type="range"
            min="0"
            max="30"
            value="10"
            step="1"
            class="slider sliderRev dairy"
            id="dairy"
            name="dairy"
            oninput="dairyOutput.value=dairy.value"
            onchange="listen(this.value)"
          />

          <output
            id="dairyOutput"
            name="dairyOutput"
            for="dairyOutput.value"
            class="dairyOutput"
            >10</output
          ><span>%</span>

          <p class="slider subinformation">Waste %</p>
          <form action="">
            <input
              type="range"
              min="0"
              max="100"
              value="5"
              step="1"
              class="slider dairyWaste"
              id="dairyWaste"
              name="dairyWaste"
              oninput="dairyWasteOutput.value=dairyWaste.value"
              onchange="wasteListen(this.value)"
            />
            <output
              id="dairyWasteOutput"
              name="dairyWasteOutput"
              for="dairyWasteOutput.value"
              class="dairyWasteOutput"
              >5</output
            ><span>%</span>
          </form>
        </div>

        <div class="meatAndPoultry grid">
          <!-- <img class="icon milk" src="/Assets/meat.png" alt="" /> -->
          <img class="icon milk" src="/wasteless/Assets/meat.png" alt="" />

          <p>Meat & Poultry</p>

          <p class="slider sliderRev subinformation">% of total revenue</p>
          <input
            type="range"
            min="0"
            max="30"
            value="10"
            step="1"
            class="slider sliderRev meatAndPoultry"
            id="meatAndPoultry"
            name="meatAndPoultry"
            oninput="meatAndPoultryOutput.value=meatAndPoultry.value"
            onchange="listen(this.value)"
          />
          <output
            id="meatAndPoultryOutput"
            name="meatAndPoultryOutput"
            for="meatAndPoultryOutput.value"
            class="meatAndPoultryOutput"
            >10</output
          ><span>%</span>

          <p class="slider subinformation">Waste %</p>

          <form action="">
            <input
              type="range"
              min="0"
              max="100"
              value="6"
              step="1"
              class="slider meatAndPoultryWaste"
              id="meatAndPoultryWaste"
              name="meatAndPoultryWaste"
              oninput="meatAndPoultryWasteOutput.value=meatAndPoultryWaste.value"
              onchange="wasteListen(this.value)"
            />
            <output
              id="meatAndPoultryWasteOutput"
              name="meatAndPoultryWasteOutput"
              for="meatAndPoultryWasteOutput.value"
              class="meatAndPoultryWasteOutput"
              >6</output
            ><span>%</span>
          </form>
        </div>

        <div class="dryFood grid">
          <!-- <img class="icon milk invisible" src="/Assets/milk.png" alt="" /> -->
          <img
            class="icon milk invisible"
            src="/wasteless/Assets/milk.png"
            alt=""
          />

          <p>Dry foods and other products</p>
          <p class="slider sliderRev subinformation">% of store</p>
          <input
            type="range"
            min="0"
            max="100"
            value="0"
            step="1"
            class="slider sliderRev dryFoods"
            id="dryFoods"
            name="dryFoods"
            oninput="dryFoodsOutput.value=dryFoods.value"
          />

          <output
            id="dryFoodsOutput"
            name="dryFoodsOutput"
            for="dryFoodsOutput.value"
            class="dryFoodsOutput"
            >0</output
          ><span>%</span>

          <p class="revenueError">% of total revenue cannot exceed 100%</p>
        </div>
      </div>
    </div>

    <div class="simulatebtn">
      <button onClick="calc()" class="simulateBtn submit" id="simulateBtn">
        SIMULATE
      </button>
    </div>
    <div class="results-container show">
      <div class="resultsTitle">
        <h4>
          This is what you should expect after implementing Wasteless Store
          solution:
        </h4>
        <div class="resultsBtns">
          <p class="subinformation">Show results for:</p>
          <button onClick="calc()" class="btn months">12 Months</button>
          <button onClick="tenYearFunc(tenYear, myChartFirst, myChartCanvas)" class="btn years">
            10 Years
          </button>
        </div>
      </div>

      <div class="chart">
        <canvas id="myChart" width="800" height="450"></canvas>
        <canvas id="myChartTenYear" width="800" height="450"></canvas>
      </div>
      <div class="metric_results_container">
        <div class="totalEconomicValueContainer metricResult">
          <h4 class="metricTitle">Total Economic Value</h4>
          <span class="metric">$</span>
          <span class="metric economicValue"></span>
        </div>
        <div class="totalEconomicValueContainer metricResult">
          <h4 class="metricTitle">CO2e Reduced</h4>
          <span class="metric"></span>
          <span class="metric co2reduced"></span><span> Kg</span>
        </div>
        <div class="totalEconomicValueContainer metricResult listItem upsale">
          <h4 class="metricTitle">Total Revenue Upsale</h4>
          <span>$</span>
          <span class="upsale totalUpsale metric"></span>
        </div>
        <div class="totalEconomicValueContainer metricResult listItem value">
          <h4 class="metricTitle">Waste Reduction Value</h4>
          <span>$</span>
          <span class="value wasteReductionValue metric"></span>
        </div>
      </div>
    </div>

    <style>
      @import url("https://fonts.googleapis.com/css2?family=Roboto&display=swap");

      * {
        font-family: "Roboto", sans-serif;
      }
      #simulation-wrapper,
      .results-container {
        background-color: white;
        display: flex;
        align-items: center;
        justify-content: center;
        flex-direction: column;
        width: 70vw;
        margin: 0 auto;
        padding: 10px;
        border-radius: 10px;
      }
      body {
        background-color: black;
      }
      .header-section {
        width: 100%;
      }

      .slider {
        width: 50%;
        margin: 2px 0px;
      }
      .totalRevenue {
        width: 80%;
      }
      .revenueOutput {
        color: grey;
      }

      .main-calculator-section {
        text-align: left;
        width: 100%;
      }

      .subinformation {
        font-size: 14px;
        color: grey;
      }

      .grid {
        width: 50%;
        float: left;
        padding-bottom: 20px;
      }

      img {
        float: left;
        width: 10%;
      }
      .icon {
        padding: 20px 10px 56px 0px;
      }
      .invisible {
        opacity: 0;
      }

      .btn {
        border-radius: 10px;
        border: none;
        padding: 1rem 2rem;
        transition: 0.5s ease-in-out;
      }
      /* puts btns inline */
      .resultsBtns {
        display: flex;
      }

      .btn:hover {
        cursor: pointer;
        transform: scale(1.02);
      }
      .months {
        background-color: #492fc4;
        color: white;
      }
      .years {
        color: #492fc4;
        background-color: #f5f5f5;
      }

      .simulatebtn button {
        color: white;
        background-color: #492fc4;
        border-radius: 10px;
        border: none;
        padding: 1rem 2rem;
        transition: 0.5s ease-in-out;
      }
      p.subinformation {
        padding-right: 20px;
      }

      .simulatebtn button:hover {
        cursor: pointer;
        transform: scale(1.1);
      }

      .simulatebtn {
        width: 70.5vw;
        display: flex;
        align-items: flex-end;
        justify-content: center;
        flex-direction: column;
        margin: 0 auto;
        padding: 10px;
        padding-right: 0;
      }
      .border-bottom {
        border-bottom: 1px solid black;
      }
      .hide {
        display: none;
      }
      .show {
        display: block;
      }
      input {
        cursor: pointer;
      }
      /* disable user from moving slider */
      #dryFoods {
        pointer-events: none;
      }
      .revenueError {
        display: none;
        color: red;
      }

      /* results container */

      .metric_results_container {
        display: flex;
      }
      .metricResult {
        width: 25%;
        color: #929292;
      }

      /* bullet points to add later */
      /* 
      .listItem:before { 
        content:"• ";
      }
       */
       .metric {
        color: #404040;
      }
      .upsale, .totalUpsale {
        color: #492fc4;
      }
      .value, .wasteReductionValue  {
        color: #47d71d;
      }
     

      .grey {
        opacity: 0.2;
      }
      .noClick {
        pointer-events: none;
      }
      #myChart,
      #myChartTenYear {
        width: 100%;
      }

      #myChart { display: block; }

      #myChartTenYear {
        display: none;
      }

      .submitWarning { 
        font-size: 12px;
        color: red;
        display:none;
      }

      @media only screen and (max-width: 580px) {
        body {
          width: 100vw;
          margin: 0 auto;
        }
        #simulation-wrapper {
          width: 85%;
        }
        .grid {
          width: 100%;
        }

        .slider {
          width: 65%;
        }
        .icon {
          padding: 20px 10px 90px 0px;
        }

        .btn {
          padding: 0.2rem 0.4rem;
        }

        .metricTitle,
        .metric,
        .metricTitle > span,
        .co2reduced > span, .metricResult > span {
          font-size: 12px;
        }
        .metricTitle {
          min-height: 100px;
        }
      }
    </style>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.5.1/chart.min.js"></script>
    <script type="text/javascript">

    // this holds % total revenue range input data
      let listeningData = [];
    //   this holds Waste % range input data
      let wasteListenData = [];
      let totalAnnualRevenueGross;
      let resultsContainer = document.querySelector(".results-container");
      let totalRevenueArr;
      let totalWasteArr;
      let calcRevArr = [];
    //   column D in spreadsheet
      let totalWasteArrPercentage = [];

      let totalWasteSavingsArr = [];
      let wasteSavingsResult = [];
      let avgCostKgFixedAverageArr = [10, 6, 1.2, 5, 3, 12, 4];
    //   column b in spreadsheet
      let userInputPercentages = [.08, .05, .14, .10, .06, .01, .1];
      let fixedKgAvg = [11, 11, 1.8, 23, 1.22, 8 ,4 ];
      let totalWasteSavings;
      
    
      
      // Get Total Revenue
      let totalRevenue = document.querySelector("#totalRevenue");
      // Get numbers from sliders
      // total revenue output
      let totalAnnualRevenue = document.querySelector("#revenueOutput");
      // packed meals and deli number
      let packedMealsRevenue = document.getElementById("packedMealsOutput");
      let packedMealWaste = document.querySelector("#packedMealsOutputWaste");
      // frozen foods
      let frozenFoodRevenue = document.querySelector("#frozenFoodOutput");
      let frozenFoodWaste = document.querySelector("#frozenFoodOutputWaste");
      // fruits & vegetables
      let fruitsAndVegetableRevenue = document.querySelector(
        "#fruitAndVegetablesOutput"
      );
      let fruitsAndVegetableWaste = document.querySelector(
        "#fruitAndVegetablesWasteOutput"
      );
      // Meat & Poultry
      let meatAndPoultryRevenue = document.querySelector(
        "#meatAndPoultryOutput"
      );
      let meatAndPoultryWaste = document.querySelector(
        "#meatAndPoultryWasteOutput"
      );
      let submitWarning = document.querySelector('.submitWarning');
      // Bakery
      let bakeryRevenue = document.querySelector("#bakeryOutput");
      let bakeryWaste = document.querySelector("#bakeryWasteOutput");
      // Seafood
      let seafoodRevenue = document.querySelector("#seafoodOutput");
      let seafoodWaste = document.querySelector("#seafoodWasteOutput");
      // Dairy
      let dairyRevenue = document.querySelector("#dairyOutput");
      let dairyWaste = document.querySelector("#dairyWasteOutput");
      // Dry foods
      let dryFoodStore = document.querySelector("#dryFoodsOutput");
      let dryFoodInputSlider = document.querySelector("#dryFoods");
      // simulation button
      let simulateBtn = document.querySelector("#simulateBtn");
      // Revenue Error Message
      let revenueError = document.querySelector(".revenueError");
      // Get revenue number
      var btn = document.querySelector(".submit");
    //   btn.addEventListener("click", getTotalRevenue);

    // WASTE REDUCTION FIXED VALUES
    let wasteReductionValArr = [0.5, 0.5, 0.24, 0.5, 0.09, 0.5, 0.5];
    let wastePercentages = [.1, .01, .14, .06, .15, .12, .05];

      // Results
      let totalEconomicValue = document.querySelector(".economicValue");
      let totalRevenueUpsale = document.querySelector(".totalUpsale");
      let co2eReduced = document.querySelector(".co2reduced");
      let wasteReductionValue = document.querySelector(".wasteReductionValue");
      let reducedArr = [];
      let totalWasteSave;
      let estWeightSavedArr = [];
      
      
      /// this is the first function to fire
      function calc() {
        console.log(document.getElementById('totalRevenue').value);
        totalAnnualRevenueGross = document.getElementById('totalRevenue').value
        totalRevenueArr = [];
        totalWasteArr = [];
        // push all % of total revenue into array to get total amount
        totalRevenueArr.push(
          parseInt(packedMealsRevenue.innerHTML),
          parseInt(frozenFoodRevenue.innerHTML),
          parseInt(fruitsAndVegetableRevenue.innerHTML),
          parseInt(meatAndPoultryRevenue.innerHTML),
          parseInt(bakeryRevenue.innerHTML),
          parseInt(seafoodRevenue.innerHTML),
          parseInt(dairyRevenue.innerHTML)
        );
        
        totalWasteArr.push(
          parseInt(packedMealWaste.innerHTML),
          parseInt(frozenFoodWaste.innerHTML),
          parseInt(fruitsAndVegetableWaste.innerHTML),
          parseInt(meatAndPoultryWaste.innerHTML),
          parseInt(bakeryWaste.innerHTML),
          parseInt(seafoodWaste.innerHTML),
          parseInt(dairyWaste.innerHTML)
        );
        console.log(totalWasteArr);
        console.log(totalRevenueArr);

        for (let i = 0; i < totalWasteArr.length; i++) {
          totalWasteArrPercentage.push(totalWasteArr[i] / 100);
        }
        console.log(totalWasteArrPercentage);
        getCalculatedRevenueByCategory(totalAnnualRevenueGross, userInputPercentages)
        // revenueUpsale()
      }
      // end of calc Func

     

    //   this updates the % of total Revenue range inputs
      function listen(e) {
        listeningData[0] = parseInt(
          document.getElementById("packedMealsOutput").innerHTML
        );
        listeningData[1] = parseInt(
          document.getElementById("bakeryOutput").innerHTML
        );
        listeningData[2] = parseInt(
          document.getElementById("frozenFoodOutput").innerHTML
        );
        listeningData[3] = parseInt(
          document.getElementById("seafoodOutput").innerHTML
        );
        listeningData[4] = parseInt(
          document.getElementById("fruitAndVegetablesOutput").innerHTML
        );
        listeningData[5] = parseInt(
          document.getElementById("dairyOutput").innerHTML
        );
        listeningData[6] = parseInt(
          document.getElementById("meatAndPoultryOutput").innerHTML
        );
        console.log(listeningData);
        // Getting the Sum of the Array
        sumOfTotalRevenueArray(listeningData);
      }
      function wasteListen(e) {
        wasteListenData[0] = parseInt(
          document.getElementById("packedMealsOutputWaste").innerHTML
        );
        wasteListenData[1] = parseInt(
          document.getElementById("bakeryWasteOutput").innerHTML
        );
        wasteListenData[2] = parseInt(
          document.getElementById("frozenFoodOutputWaste").innerHTML
        );
        wasteListenData[3] = parseInt(
          document.getElementById("seafoodWasteOutput").innerHTML
        );
        wasteListenData[4] = parseInt(
          document.getElementById("fruitAndVegetablesWasteOutput").innerHTML
        );
        wasteListenData[5] = parseInt(
          document.getElementById("dairyWasteOutput").innerHTML
        );
        wasteListenData[6] = parseInt(
          document.getElementById("meatAndPoultryWasteOutput").innerHTML
        );
        console.log(wasteListenData);
        // Getting the Sum of the Array
        sumOfArray(wasteListenData);
      }
      function sumOfArray(arr) {
        let reducer = (x, y) => x + y;
        let reducedArr = arr.reduce(reducer);
        
        totalWasteSavings = reducedArr;
        totalWasteSavingsArr.push(totalWasteSavings)
        console.log(totalWasteSavings, totalWasteSavingsArr);
        // this writes total revenue upsale and waste reduction value to the page ******************
        document.querySelector('.totalUpsale').innerHTML = totalWasteSavingsArr[0];
        document.querySelector('.wasteReductionValue').innerHTML = totalWasteSavingsArr[1];
        sumOfArrayThree(totalWasteSavingsArr)
        return totalWasteSavingsArr // returns purple total in spreadsheet
      }
      function sumOfArrayTwo(arr) {
        let reducer = (x, y) => x + y;
        let reducedArr = arr.reduce(reducer);
        
        totalWasteSavings = reducedArr;
        totalWasteSavingsArr.push(totalWasteSavings)
        console.log(totalWasteSavings, totalWasteSavingsArr);
        
        return totalWasteSavingsArr
      }
      function sumOfArrayThree(arr) {
        let reducer = (x, y) => x + y;
        let reducedArr = arr.reduce(reducer);
        console.log(reducedArr);

        // this writes total Economic value to the page ***********************
        document.querySelector('.economicValue').innerHTML = reducedArr
      }
      function sumOfArrayFour(arr) {
        let reducer = (x, y) => x + y;
        let reducedArr = arr.reduce(reducer);
        console.log(Math.round(reducedArr));
        let rounded = Math.round(reducedArr)
        // this writes total Co2 value to the page ***********************
        document.querySelector('.co2reduced').innerHTML = rounded
      }
// Getting Sum of Total Revenue Sliders and triggering greyOutSimulation
// Checking that Total sum isnt above 100
      function sumOfTotalRevenueArray(arr) {
        let reducer = (x, y) => x + y;
        reducedArr = arr.reduce(reducer);
        let dryFoods = document.getElementById('dryFoodsOutput').innerHTML = 100 - reducedArr;
        document.getElementById('dryFoods').value = dryFoods
        console.log(reducedArr);
        
        greyOutSimulation(reducedArr);
        return reducedArr;
      }

// Checking that % of Total Revenue is less than 100
// If TR is > 100 Grey out sliders and disable Simulation button
      function greyOutSimulation(reducedArr) {
          console.log(reducedArr);
          if (reducedArr > 100) {
              document.querySelector('.simulatebtn').style.display = "none"
              revenueError.style.display = "flex"
              var TextElements = document.querySelectorAll(".sliderRev");

            for (var i = 0, max = TextElements.length; i < max; i++) {
                TextElements[i].style.opacity = 0.2;
            }
              
          } else {
            document.querySelector('.simulatebtn').style.display = "flex"
            revenueError.style.display = "none"
            var TextEl = document.querySelectorAll(".sliderRev");
            for (var i = 0, max = TextEl.length; i < max; i++) {
            TextEl[i].style.opacity = 1;
          }
           
          }
      }

// Combine two Arrays and Multiply them by a value
      function Arrays_multi(array1, array2) {
          console.log(array1, array2);
        revenueUpsaleTwo(array1)
          const result = [];
          const result2 = [];
          let ctr = 0;
          let x = 0;

          if (array1.length === 0) return "array1 is empty";
          if (array2.length === 0) return "array2 is empty";

          while (ctr < array1.length && ctr < array2.length) {
            result2.push(array1[ctr] * array2[ctr]);
            ctr++;
          }

          if (ctr === array1.length) {
            for (x = ctr; x < array2.length; x++) {
              result2.push(array2[x]);
            }
          } else {
            for (x = ctr; x < array1.length; x++) {
              result2.push(array1[x]);
            }
          }
          Arrays_multi_wasteReduction(result2, wasteReductionValArr);
          
          console.log(result2);
        }
        function Arrays_divide_Kg(array1, array2) {
          console.log(array1, array2);
        
          const result = [];
          const result2 = [];
          let ctr = 0;
          let x = 0;

          if (array1.length === 0) return "array1 is empty";
          if (array2.length === 0) return "array2 is empty";

          while (ctr < array1.length && ctr < array2.length) {
            result2.push(array1[ctr] / array2[ctr]);
            ctr++;
          }

          if (ctr === array1.length) {
            for (x = ctr; x < array2.length; x++) {
              result2.push(array2[x]);
            }
          } else {
            for (x = ctr; x < array1.length; x++) {
              result2.push(array1[x]);
            }
          }
         
          estWeightSavedArr = result2;
          Arrays_multi_Kg(estWeightSavedArr, fixedKgAvg)
          console.log(result2);
        }
        function Arrays_multi_Kg(array1, array2) {
          console.log(array1, array2);
          const result = [];
          const result2 = [];
          let ctr = 0;
          let x = 0;

          if (array1.length === 0) return "array1 is empty";
          if (array2.length === 0) return "array2 is empty";

          while (ctr < array1.length && ctr < array2.length) {
            result2.push(array1[ctr] * array2[ctr]);
            ctr++;
          }

          if (ctr === array1.length) {
            for (x = ctr; x < array2.length; x++) {
              result2.push(array2[x]);
            }
          } else {
            for (x = ctr; x < array1.length; x++) {
              result2.push(array1[x]);
            }
          }
          
          console.log(result2);
        //   reduce array here **********************************************
        sumOfArrayFour(result2);

        }
        let revenueByCategory = [];
        function getCalculatedRevenueByCategory(val, arr) {
            console.log(val, arr);
            for (let i = 0; i < arr.length; i++) {
                revenueByCategory.push(Math.round(arr[i] * val))
            }
            Arrays_multi(revenueByCategory, wastePercentages)
            return revenueByCategory;

        }

        function Arrays_multi_wasteReduction(array1, array2) {
          const result = [];
          const result2 = [];
          let ctr = 0;
          let x = 0;

          if (array1.length === 0) return "array1 is empty";
          if (array2.length === 0) return "array2 is empty";

          while (ctr < array1.length && ctr < array2.length) {
            result2.push(array1[ctr] * array2[ctr]);
            ctr++;
          }

          if (ctr === array1.length) {
            for (x = ctr; x < array2.length; x++) {
              result2.push(array2[x]);
            }
          } else {
            for (x = ctr; x < array1.length; x++) {
              result2.push(array1[x]);
            }
          }
          sumOfArray(result2)
          console.log(result2);
        //   put avg cost KG func call here *******************************************
        getEstimatedWeightSave(result2, avgCostKgFixedAverageArr);
        Arrays_divide_Kg(result2, avgCostKgFixedAverageArr)
        }
        // Get total revenue upsale 18% of revenue
        
        function revenueUpsale(arr) {
            console.log(arr);
            let revenueUpsaleArr = [];
            for (let i = 0; i < arr.length; i++) {
                revenueUpsaleArr.push(arr[i] * .18)
                
            }
            sumOfArray(revenueUpsaleArr)
        }
        function revenueUpsaleTwo(arr) {
            console.log(arr);
            let revenueUpsaleArr = [];
            for (let i = 0; i < arr.length; i++) {
                revenueUpsaleArr.push(arr[i] * .18)
                
            }
            sumOfArrayTwo(revenueUpsaleArr)
        }

        function getEstimatedWeightSave(arr, arr2) {
            console.log(arr, arr2);
            
        }
     
      
    </script>
  </body>
</html>
