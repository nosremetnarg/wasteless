<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Wasteless Simulation</title>
  </head>
  <body>
    <!-- wasteless simulations -->
    <div id="simulation-wrapper" class="simulation-wrapper">
      <div class="header-section">
        <p>Whats your Total Annual Revenue(gross)?</p>
        <!-- change to a number input -->
        <span>$</span>
        <label for="totalRevenue"></label>
        <input
          type="number"
          id="totalRevenue"
          name="totalRevenue"
          min="1"
          max="5000000000"
        />
        <!-- <input type="submit" id="submit" /> -->

        <p>
          Out of the total revenue, how much each of the following represent and
          what's their waste %?
        </p>
      </div>

      <div class="main-calculator-section">
        <div class="packedMeals grid">
          <!-- <img class="icon" src="/Assets/bread.png" alt="" /> -->
          <img class="icon" src="/wasteless/Assets/bread.png" alt="" />
          <p>Packed meals / Deli</p>
          <p class="slider sliderRev subinformation">% of total revenue</p>
          <input
            type="range"
            min="0"
            max="30"
            value="8"
            step="1"
            class="slider sliderRev packedMeals"
            id="packedMeals"
            name="packedMeals"
            oninput="packedMealsOutput.value=parseInt(packedMeals.value)"
          />
          <output
            id="packedMealsOutput"
            name="packedMealsOutput"
            for="packedMealsOutput.value"
            class="packedMealsOutput"
            >8</output
          ><span>%</span>

          <p class="slider subinformation">Waste %</p>
          <form action="">
            <input
              type="range"
              min="0"
              max="100"
              value="10"
              step="1"
              class="slider packedMeals"
              id="packedMealsWaste"
              name="packedMealsWaste"
              oninput="packedMealsOutputWaste.value=(parseInt(packedMealsWaste.value))"
            />
            <output
              id="packedMealsOutputWaste"
              name="packedMealsOutputWaste"
              for="packedMealsOutputWaste.value"
              class="packedMeals"
              >10</output
            ><span>%</span>
          </form>
        </div>

        <div class="bakery grid">
          <!-- <img class="icon milk" src="/Assets/milk.png" alt="" /> -->
          <img class="icon milk" src="/wasteless/Assets/milk.png" alt="" />
          <p>Bakery</p>

          <p class="slider sliderRev subinformation">% of total revenue</p>
          <input
            type="range"
            min="0"
            max="30"
            value="6"
            step="1"
            class="slider sliderRev bakery"
            id="bakery"
            name="bakery"
            oninput="bakeryOutput.value=bakery.value"
          />
          <output
            id="bakeryOutput"
            name="bakeryOutput"
            for="bakeryOutput.value"
            class="bakeryOutput"
            >6</output
          ><span>%</span>

          <p class="slider subinformation">Waste %</p>
          <form action="">
            <input
              type="range"
              min="0"
              max="100"
              value="15"
              step="1"
              class="slider bakeryWaste"
              id="bakeryWaste"
              name="bakeryWaste"
              oninput="bakeryWasteOutput.value=(parseInt(bakeryWaste.value))"
            />
            <output
              id="bakeryWasteOutput"
              name="bakeryWasteOutput"
              for="bakeryWasteOutput.value"
              class="bakeryWasteOutput"
              >15</output
            ><span>%</span>
          </form>
        </div>

        <div class="frozenFoods grid">
          <!-- <img class="icon milk" src="/Assets/frozenFood.png" alt="" /> -->
          <img
            class="icon milk"
            src="/wasteless/Assets/frozenFood.png"
            alt=""
          />
          <p>Frozen Foods</p>
          <p class="slider sliderRev subinformation">% of total revenue</p>
          <input
            type="range"
            min="0"
            max="30"
            value="5"
            step="1"
            class="slider sliderRev frozenFood"
            id="frozenFood"
            name="frozenFood"
            oninput="frozenFoodOutput.value=frozenFood.value"
          />

          <output
            id="frozenFoodOutput"
            name="frozenFoodOutput"
            for="frozenFoodOutput.value"
            class="frozenFoodOutput"
            >5</output
          ><span>%</span>

          <p class="slider subinformation">Waste %</p>
          <form action="">
            <input
              type="range"
              min="0"
              max="100"
              value="1"
              step="1"
              class="slider frozenFoodWaste"
              id="frozenFoodWaste"
              name="frozenFoodWaste"
              oninput="frozenFoodOutputWaste.value=frozenFoodWaste.value"
            />
            <output
              id="frozenFoodOutputWaste"
              name="frozenFoodOutputWaste"
              for="frozenFoodOutputWaste.value"
              class="frozenFoodOutputWaste"
              >1</output
            ><span>%</span>
          </form>
        </div>

        <div class="seafood grid">
          <!-- <img class="icon milk" src="/Assets/fish.png" alt="" /> -->
          <img class="icon milk" src="/wasteless/Assets/fish.png" alt="" />

          <p>Seafood</p>
          <!-- seafoodOutput seafoodWasteOutput -->
          <p class="slider sliderRev subinformation">% of total revenue</p>
          <input
            type="range"
            min="0"
            max="30"
            value="1"
            step="1"
            class="slider sliderRev seafood"
            id="seafood"
            name="seafood"
            oninput="seafoodOutput.value=seafood.value"
          />
          <output
            id="seafoodOutput"
            name="seafoodOutput"
            for="seafoodOutput.value"
            class="seafoodOutput"
            >1</output
          ><span>%</span>

          <p class="slider subinformation">Waste %</p>
          <form action="">
            <input
              type="range"
              min="0"
              max="100"
              value="12"
              step="1"
              class="slider seafoodWaste"
              id="seafoodWaste"
              name="seafoodWaste"
              oninput="seafoodWasteOutput.value=seafoodWaste.value"
            />
            <output
              id="seafoodWasteOutput"
              name="seafoodWasteOutput"
              for="seafoodWasteOutput"
              class="seafoodWasteOutput"
              >12</output
            ><span>%</span>
          </form>
        </div>

        <div class="fruitsAndVegetables grid">
          <!-- <img class="icon milk" src="/Assets/fruitAndVegetables.png" alt="" /> -->
          <img
            class="icon milk"
            src="/wasteless/Assets/fruitAndVegetables.png"
            alt=""
          />
          <p>Fruits & Vegetables</p>

          <p class="slider sliderRev subinformation">% of total revenue</p>
          <input
            type="range"
            min="0"
            max="30"
            value="14"
            step="1"
            class="slider sliderRev fruitAndVegetables"
            id="fruitAndVegetables"
            name="fruitAndVegetables"
            oninput="fruitAndVegetablesOutput.value=fruitAndVegetables.value"
          />
          <output
            id="fruitAndVegetablesOutput"
            name="fruitAndVegetablesOutput"
            for="fruitAndVegetablesOutput.value"
            class="fruitAndVegetablesOutput"
            >14</output
          ><span>%</span>

          <p class="slider subinformation">Waste %</p>
          <form action="">
            <input
              type="range"
              min="0"
              max="100"
              value="14"
              step="1"
              class="slider fruitAndVegetablesWaste"
              id="fruitAndVegetablesWaste"
              name="fruitAndVegetablesWaste"
              oninput="fruitAndVegetablesWasteOutput.value=fruitAndVegetablesWaste.value"
            />
            <output
              id="fruitAndVegetablesWasteOutput"
              name="fruitAndVegetablesWasteOutput"
              for="fruitAndVegetablesWasteOutput.value"
              class="fruitAndVegetablesWasteOutput"
              >14</output
            ><span>%</span>
          </form>
        </div>

        <div class="dairy grid">
          <!-- <img class="icon milk" src="/Assets/milk.png" alt="" /> -->
          <img class="icon milk" src="/wasteless/Assets/milk.png" alt="" />

          <p>Dairy</p>

          <p class="slider sliderRev subinformation">% of total revenue</p>
          <input
            type="range"
            min="0"
            max="30"
            value="10"
            step="1"
            class="slider sliderRev dairy"
            id="dairy"
            name="dairy"
            oninput="dairyOutput.value=dairy.value"
          />

          <output
            id="dairyOutput"
            name="dairyOutput"
            for="dairyOutput.value"
            class="dairyOutput"
            >10</output
          ><span>%</span>

          <p class="slider subinformation">Waste %</p>
          <form action="">
            <input
              type="range"
              min="0"
              max="100"
              value="5"
              step="1"
              class="slider dairyWaste"
              id="dairyWaste"
              name="dairyWaste"
              oninput="dairyWasteOutput.value=dairyWaste.value"
            />
            <output
              id="dairyWasteOutput"
              name="dairyWasteOutput"
              for="dairyWasteOutput.value"
              class="dairyWasteOutput"
              >5</output
            ><span>%</span>
          </form>
        </div>

        <div class="meatAndPoultry grid">
          <!-- <img class="icon milk" src="/Assets/meat.png" alt="" /> -->
          <img class="icon milk" src="/wasteless/Assets/meat.png" alt="" />

          <p>Meat & Poultry</p>

          <p class="slider sliderRev subinformation">% of total revenue</p>
          <input
            type="range"
            min="0"
            max="30"
            value="10"
            step="1"
            class="slider sliderRev meatAndPoultry"
            id="meatAndPoultry"
            name="meatAndPoultry"
            oninput="meatAndPoultryOutput.value=meatAndPoultry.value"
          />
          <output
            id="meatAndPoultryOutput"
            name="meatAndPoultryOutput"
            for="meatAndPoultryOutput.value"
            class="meatAndPoultryOutput"
            >10</output
          ><span>%</span>

          <p class="slider subinformation">Waste %</p>

          <form action="">
            <input
              type="range"
              min="0"
              max="100"
              value="6"
              step="1"
              class="slider meatAndPoultryWaste"
              id="meatAndPoultryWaste"
              name="meatAndPoultryWaste"
              oninput="meatAndPoultryWasteOutput.value=meatAndPoultryWaste.value"
            />
            <output
              id="meatAndPoultryWasteOutput"
              name="meatAndPoultryWasteOutput"
              for="meatAndPoultryWasteOutput.value"
              class="meatAndPoultryWasteOutput"
              >6</output
            ><span>%</span>
          </form>
        </div>

        <div class="dryFood grid">
          <!-- <img class="icon milk invisible" src="/Assets/milk.png" alt="" /> -->
          <img
            class="icon milk invisible"
            src="/wasteless/Assets/milk.png"
            alt=""
          />

          <p>Dry foods and other products</p>
          <p class="slider sliderRev subinformation">% of store</p>
          <input
            type="range"
            min="0"
            max="100"
            value="0"
            step="1"
            class="slider sliderRev dryFoods"
            id="dryFoods"
            name="dryFoods"
            oninput="dryFoodsOutput.value=dryFoods.value"
          />

          <output
            id="dryFoodsOutput"
            name="dryFoodsOutput"
            for="dryFoodsOutput.value"
            class="dryFoodsOutput"
            >0</output
          ><span>%</span>

          <p class="revenueError">% of total revenue cannot exceed 100%</p>
        </div>
      </div>
    </div>

    <div class="simulatebtn">
      <button onClick="calc()" class="simulateBtn submit" id="simulateBtn">
        SIMULATE
      </button>
    </div>
    <div class="results-container show">
      <div class="resultsTitle">
        <h4>
          This is what you should expect after implementing Wasteless Store
          solution:
        </h4>
        <div class="resultsBtns">
          <p class="subinformation">Show results for:</p>
          <button class="btn months">12 Months</button>
          <button class="btn years">10 Years</button>
        </div>
      </div>

      <div class="chart">
        
        <canvas id="myChart" width="800" height="450"></canvas>
      </div>
      <div class="metric_results_container">
        <div class="totalEconomicValueContainer metricResult">
          <h4 class="metricTitle">Total Economic Value</h4>
          <span class="metric">$</span>
          <span class="metric economicValue"></span>
        </div>
        <div class="totalEconomicValueContainer metricResult">
          <h4 class="metricTitle">CO2e Reduced</h4>
          <span class="metric"></span>
          <span class="metric co2reduced"></span><span> Kg</span>
        </div>
        <div class="totalEconomicValueContainer metricResult listItem upsale">
          <h4 class="metricTitle">Total Revenue Upsale</h4>
          <span>$</span>
          <span class="upsale totalUpsale metric"></span>
        </div>
        <div class="totalEconomicValueContainer metricResult listItem value">
          <h4 class="metricTitle">Waste Reduction Value</h4>
          <span>$</span>
          <span class="value wasteReductionValue metric"></span>
        </div>
      </div>
    </div>

    <style>
      @import url("https://fonts.googleapis.com/css2?family=Roboto&display=swap");

      * {
        font-family: "Roboto", sans-serif;
      }
      #simulation-wrapper,
      .results-container {
        background-color: white;
        display: flex;
        align-items: center;
        justify-content: center;
        flex-direction: column;
        width: 70vw;
        margin: 0 auto;
        padding: 10px;
        border-radius: 10px;
      }
      body {
        background-color: black;
      }
      .header-section {
        width: 100%;
      }

      .slider {
        width: 50%;
        margin: 2px 0px;
      }
      .totalRevenue {
        width: 80%;
      }
      .revenueOutput {
        color: grey;
      }

      .main-calculator-section {
        text-align: left;
        width: 100%;
      }

      .subinformation {
        font-size: 14px;
        color: grey;
      }

      .grid {
        width: 50%;
        float: left;
        padding-bottom: 20px;
      }

      img {
        float: left;
        width: 10%;
      }
      .icon {
        padding: 20px 10px 56px 0px;
      }
      .invisible {
        opacity: 0;
      }

      .btn {
        border-radius: 10px;
        border: none;
        padding: 1rem 2rem;
        transition: 0.5s ease-in-out;
      }
      /* puts btns inline */
      .resultsBtns {
        display: flex;
      }

      .btn:hover {
        cursor: pointer;
        transform: scale(1.02);
      }
      .months {
        background-color: #492fc4;
        color: white;
      }
      .years {
        color: #492fc4;
        background-color: #f5f5f5;
      }

      .simulatebtn button {
        color: white;
        background-color: #492fc4;
        border-radius: 10px;
        border: none;
        padding: 1rem 2rem;
        transition: 0.5s ease-in-out;
      }
      p.subinformation {
        padding-right: 20px;
      }

      .simulatebtn button:hover {
        cursor: pointer;
        transform: scale(1.1);
      }

      .simulatebtn {
        width: 70.5vw;
        display: flex;
        align-items: flex-end;
        justify-content: center;
        flex-direction: column;
        margin: 0 auto;
        padding: 10px;
        padding-right: 0;
      }
      .border-bottom {
        border-bottom: 1px solid black;
      }
      .hide {
        display: none;
      }
      .show {
        display: block;
      }
      input {
        cursor: pointer;
      }
      /* disable user from moving slider */
      #dryFoods {
        pointer-events: none;
      }
      .revenueError {
        display: none;
      }

      /* results container */

      .metric_results_container {
        display: flex;
      }
      .metricResult {
        width: 25%;
        color: #929292;
      }

      /* bullet points to add later */
      /* 
      .listItem:before { 
        content:"â€¢ ";
      }
       */

      .upsale {
        color: #492fc4;
      }
      .value {
        color: #47d71d;
      }
      .metric {
        color: #404040;
      }

      .grey {
        opacity: 0.2;
      }
      .noClick {
        pointer-events: none;
      }

      @media only screen and (max-width: 480px)
    {
      #simulation-wrapper { width: 85vw; }
      .grid {
        width: 100%;
      }

      .slider {
        width: 65%;
      }
      .icon {
    padding: 20px 10px 90px 0px;
      }

      .btn {
        padding: .2rem .4rem;
      }

      .metricTitle, .metric, .metricTitle > span, .co2reduced > span { font-size: 12px; }
      .metricTitle { min-height: 100px; }
    }


    </style>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.5.1/chart.min.js"></script>
    <script type="text/javascript">
      let resultsContainer = document.querySelector(".results-container");
      let totalRevenueArr = [];
      let totalWasteArr = [];
      let calcRevArr = [];
      let totalWasteArrPercentage = [];
      let totalWasteSavingsArr = [];
      let wasteSavingsResult = [];
      let avgCostArr = [10, 6, 1.2, 5, 3, 12, 4];
      let totalRevUpsale = {};
      let totalWasteRevValue = {};
      let totalWasteRevenue;
      // Chart variable
      let myChart = document.getElementById("myChart").getContext("2d");
      let labels = [
        "jan",
        "feb",
        "march",
        "april",
        "may",
        "june",
        "july",
        "august",
        "september",
        "october",
        "november",
        "december",
      ];

      

      // Get Total Revenue
      let totalRevenue = document.querySelector("#totalRevenue");
      // Get numbers from sliders
      // total revenue output
      let totalAnnualRevenue = document.querySelector("#revenueOutput");
      // packed meals and deli number
      let packedMealsRevenue = document.getElementById("packedMealsOutput");
      let packedMealWaste = document.querySelector("#packedMealsOutputWaste");

      // frozen foods
      let frozenFoodRevenue = document.querySelector("#frozenFoodOutput");
      let frozenFoodWaste = document.querySelector("#frozenFoodOutputWaste");

      // fruits & vegetables
      let fruitsAndVegetableRevenue = document.querySelector(
        "#fruitAndVegetablesOutput"
      );
      let fruitsAndVegetableWaste = document.querySelector(
        "#fruitAndVegetablesWasteOutput"
      );

      // Meat & Poultry
      let meatAndPoultryRevenue = document.querySelector(
        "#meatAndPoultryOutput"
      );
      let meatAndPoultryWaste = document.querySelector(
        "#meatAndPoultryWasteOutput"
      );

      // Bakery
      let bakeryRevenue = document.querySelector("#bakeryOutput");
      let bakeryWaste = document.querySelector("#bakeryWasteOutput");

      // Seafood
      let seafoodRevenue = document.querySelector("#seafoodOutput");
      let seafoodWaste = document.querySelector("#seafoodWasteOutput");

      // Dairy
      let dairyRevenue = document.querySelector("#dairyOutput");
      let dairyWaste = document.querySelector("#dairyWasteOutput");

      // Dry foods
      let dryFoodStore = document.querySelector("#dryFoodsOutput");
      let dryFoodInputSlider = document.querySelector("#dryFoods");

      // simulation button
      let simulateBtn = document.querySelector("#simulateBtn");

      // Revenue Error Message
      let revenueError = document.querySelector(".revenueError");

      // Get revenue number
      var btn = document.querySelector(".submit");
      btn.addEventListener("click", getTotalRevenue);

      // Results
      let totalEconomicValue = document.querySelector(".economicValue");
      let totalRevenueUpsale = document.querySelector(".totalUpsale");
      let co2eReduced = document.querySelector(".co2reduced");
      let wasteReductionValue = document.querySelector(".wasteReductionValue");
      let reducedArr;
      let totalWasteSave;

      function getTotalRevenue() {
        let totalRevenue = document.getElementById("totalRevenue").value;
        console.log(`total Revenue ${totalRevenue}`);
      }
/// this is the first function to fire
      function calc() {
        totalRevenueArr = [];
        totalWasteArr = [];
        // push all % of total revenue into array to get total amount
        totalRevenueArr.push(
          parseInt(packedMealsRevenue.innerHTML),
          parseInt(frozenFoodRevenue.innerHTML),
          parseInt(fruitsAndVegetableRevenue.innerHTML),
          parseInt(meatAndPoultryRevenue.innerHTML),
          parseInt(bakeryRevenue.innerHTML),
          parseInt(seafoodRevenue.innerHTML),
          parseInt(dairyRevenue.innerHTML)
        );
        sumTotalRevenue();
        calcRevenueByCategory(totalRevenue);

        // calculate waste savings
        calcWasteSavings(parseInt(totalRevenue.value), totalRevenueArr);
        // toggle the view of the results box
        // $(resultsContainer).toggleClass(["show", "hide"]);

        totalWasteArr.push(
          parseInt(packedMealWaste.innerHTML),
          parseInt(frozenFoodWaste.innerHTML),
          parseInt(fruitsAndVegetableWaste.innerHTML),
          parseInt(meatAndPoultryWaste.innerHTML),
          parseInt(bakeryWaste.innerHTML),
          parseInt(seafoodWaste.innerHTML),
          parseInt(dairyWaste.innerHTML)
        );
        console.log(totalWasteArr);

        for (let i = 0; i < totalWasteArr.length; i++) {
          totalWasteArrPercentage.push(totalWasteArr[i] / 100);
        }
        Arrays_sum(calcRevArr, totalWasteArrPercentage);
        
      }
      // end of calc Func

      function sumTotalRevenue() {
        let sum = totalRevenueArr.reduce(function (a, b) {
          return a + b;
        }, 0);
        // console.log("here is the total sum " + (100 - sum));
        if (sum > 100 || sum < 0) {
          revenueError.style.display = "block";
        } else {
          dryFoodStore.innerHTML = 100 - sum;
          dryFoodInputSlider.value = 100 - sum;
          revenueError.style.display = "none";
        }
      }

      function calcRevenueByCategory() {
        let calcRevenueByCategory = [];
      }

      function calcPackedMeals(revenue, waste) {
        let packedMeals = revenue * waste * 0.5;
        console.log(packedMeals);
      }

      function calcWasteSavings(revenue, totalRevenueArr) {
        // this gets revenue/category calculated

        console.log(totalRevenueArr, revenue);
        for (let i = 0; i < totalRevenueArr.length; i++) {
          calcRevArr.push((totalRevenueArr[i] / 100) * revenue);
        }
        console.log(calcRevArr);
        return calcRevArr;
        // this gets waste savings calculated
      }

      function Arrays_sum(array1, array2) {
        const result = [];
        let result2 = [];
        let ctr = 0;
        let x = 0;

        if (array1.length === 0) return "array1 is empty";
        if (array2.length === 0) return "array2 is empty";

        while (ctr < array1.length && ctr < array2.length) {
          result.push(array1[ctr] * array2[ctr]);
          ctr++;
        }

        if (ctr === array1.length) {
          for (x = ctr; x < array2.length; x++) {
            result.push(array2[x]);
          }
        } else {
          for (x = ctr; x < array1.length; x++) {
            result.push(array1[x]);
          }
        }
        console.log(result);
        // FIXED WASTE REDUCTION VALUES
        let wasteReductionValArr = [0.5, 0.5, 0.24, 0.5, 0.09, 0.5, 0.5];

        Arrays_multi(wasteReductionValArr, result);

        return result;

        function Arrays_multi(array1, array2) {
          const result = [];
          const result2 = [];
          let ctr = 0;
          let x = 0;

          if (array1.length === 0) return "array1 is empty";
          if (array2.length === 0) return "array2 is empty";

          while (ctr < array1.length && ctr < array2.length) {
            result2.push(array1[ctr] * array2[ctr]);
            ctr++;
          }

          if (ctr === array1.length) {
            for (x = ctr; x < array2.length; x++) {
              result2.push(array2[x]);
            }
          } else {
            for (x = ctr; x < array1.length; x++) {
              result2.push(array1[x]);
            }
          }
          console.log(result2);
          // return result;
          arrSum(result2);
          revenueUpsale(calcRevArr,totalWasteRevenue);
          
          
          Arrays_divide(result2, avgCostArr);
          reduceRevenueUpsale(wasteSavingsResult);
        }
        function revenueUpsale(arr, totalWasteRevenue) {
          let revenueUpsaleArr = [];
          for (let i = 0; i < arr.length; i++) {
            revenueUpsaleArr.push(arr[i] * 0.18);
          }
          //
          console.log(revenueUpsaleArr);
          // arrSum3(revenueUpsaleArr);
          arrSum2(revenueUpsaleArr, totalWasteRevValue);
        }
        
        function arrSum(arr) {
          const reducer = (val1, val2) => val1 + val2;
          reducedArr = arr.reduce(reducer);
          wasteSavingsResult.push(reducedArr);
          wasteReductionValue.innerHTML = reducedArr;
          totalWasteSave = reducedArr
          console.log(reducedArr, totalWasteSave);
          return totalWasteRevValue;
        }
        // this writes the total rev update onto the page
        function arrSum2(arr, totalWasteRevValue) {
          let revReducer = (val1, val2) => val1 + val2;
          let reducedArr = arr.reduce(revReducer);

          // this is total revenue upsale number
          totalRevenueUpsale.innerHTML = reducedArr;
          totalRevUpsale.upsale = reducedArr;
          console.log(totalRevUpsale, totalWasteRevValue);
          makeChart(totalRevUpsale, totalWasteRevValue, totalWasteSave) /////// make chart here
          
          return totalRevUpsale;
        }
        function arrSum3(arr) {
          const reducer = (val1, val2) => val1 + val2;
          let reducedArr = arr.reduce(reducer);
          wasteSavingsResult.push(reducedArr);
          // wasteReductionValue.innerHTML = reducedArr;
          
        }
        

        function reduceRevenueUpsale(arr) {
          totalEconomicValue.innerHTML = 0;
          const reduce = (val1, val2) => val1 + val2;
          let reducedArr = arr.reduce(reduce);

          // this writes to the page
          totalEconomicValue.innerHTML = reducedArr;
          totalWasteRevValue.downsale = reducedArr;
          console.log(reducedArr, totalWasteRevValue.downsale);
        }
      }
      function Arrays_divide(array1, array2) {
        const result = [];
        const co2result = [];
        let ctr = 0;
        let x = 0;

        if (array1.length === 0) return "array1 is empty";
        if (array2.length === 0) return "array2 is empty";

        while (ctr < array1.length && ctr < array2.length) {
          co2result.push(array1[ctr] / array2[ctr]);
          ctr++;
        }

        if (ctr === array1.length) {
          for (x = ctr; x < array2.length; x++) {
            co2result.push(array2[x]);
          }
        } else {
          for (x = ctr; x < array1.length; x++) {
            co2result.push(array1[x]);
          }
        }

        // finish writing this reducer func
        console.log(co2result);

        const reduceCO2 = (val1, val2) => val1 + val2;
        let reducedArr = co2result.reduce(reduceCO2);
        co2eReduced.innerHTML = Math.round(reducedArr);
        console.log(reducedArr);

        return co2result;
      }

      Arrays_sum(calcRevArr, totalWasteArr);
      

      function makeChart(totalRevUpsale, totalWasteRevValue, totalWasteSave) {
        console.log(totalRevUpsale, totalWasteSave);
        new Chart(document.getElementById("myChart"), {
        type: "line",
        data: {
          labels: ["Day 0", "Day 365"],
          datasets: [
            {
              data: [0,  totalWasteSave],
              label: "Total Waste Reduction Revenue",
              borderColor: "#492FC4",
              fill: true,
              backgroundColor: "#492FC4"
            },
            {
              data: [0, totalRevUpsale.upsale],
              label: "Total Revenue Upsale",
              borderColor: "#47D71D",
              fill: true,
              backgroundColor: "#47D71D"
            },
            
          ],
        },
        options: {
          plugins: {
            title: {
              display: true,
              text: "Sample Chart Title",
            },
            legend: false,
          },
        },
      });
      }
      
      function resetData() {

      }
      let listeningData = [];
      let listeningDataReducer = (x,y) => x + y;
      let inputEl = document.querySelectorAll('input');
      let tooHigh = false;
      
      window.addEventListener("click", listen)
      function listen() {
        listeningData[0] = (parseInt(document.getElementById('packedMealsOutput').innerHTML));
        listeningData[1] = (parseInt(document.getElementById('bakeryOutput').innerHTML));
        listeningData[2] = (parseInt(document.getElementById('frozenFoodOutput').innerHTML));
        listeningData[3] = (parseInt(document.getElementById('seafoodOutput').innerHTML));
        listeningData[4] = (parseInt(document.getElementById('fruitAndVegetablesOutput').innerHTML));
        listeningData[5] = (parseInt(document.getElementById('dairyOutput').innerHTML));
        listeningData[6] = (parseInt(document.getElementById('meatAndPoultryOutput').innerHTML));
        console.log(listeningData);
        let listeningDataSum = listeningData.reduce(listeningDataReducer)
        if (listeningDataSum > 100 ) {
          console.log('Sum is too high');
          
          tooHigh = true;
        } else {
          console.log("Sum is under 100");
          tooHigh = false;
          var TextEl = document.querySelectorAll(".sliderRev");
            for (var i = 0, max = TextEl.length; i < max; i++) {
                TextEl[i].style.opacity = 1;
            }
            console.log('hi');
            document.querySelector(".revenueError").style.display = "none";
            document.querySelector("#simulateBtn").style.display = "block";
        } 
        if (tooHigh) {
          var TextElements = document.querySelectorAll(".sliderRev");

          for (var i = 0, max = TextElements.length; i < max; i++) {
              TextElements[i].style.opacity = 0.2;
          }
          document.querySelector(".revenueError").style.display = "block";
          document.querySelector("#simulateBtn").style.display = "none";
          
          console.log('bye');
        } 
        
      };

    </script>
  </body>
</html>
